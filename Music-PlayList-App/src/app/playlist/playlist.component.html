<div style="text-align:center; margin-bottom: 20px;">
  <h2>‚≠ê Average Rating: {{ averageRating.toFixed(1) }}</h2>
</div>

<div style="display:flex; justify-content:center; gap:20px; margin-bottom:20px;">
  <mat-form-field appearance="fill">
    <mat-label>Filter by Artist</mat-label>
    <mat-select [(ngModel)]="selectedArtist">
      <mat-option value="">All</mat-option>
      <mat-option *ngFor="let artist of uniqueArtists" [value]="artist">{{ artist }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Filter by Album</mat-label>
    <mat-select [(ngModel)]="selectedAlbum">
      <mat-option value="">All</mat-option>
      <mat-option *ngFor="let album of uniqueAlbums" [value]="album">{{ album }}</mat-option>
    </mat-select>
  </mat-form-field>
</div>
<div class="grid">
  <mat-card *ngFor="let song of filteredSongs" [class.top-rated]="song.rating >= 5">
    
    <!-- Poster image -->
    <img mat-card-image [src]="song.image" alt="{{ song.name }} poster" />

    <mat-card-header>
      <mat-card-title>{{ song.name }}</mat-card-title>
      <mat-card-subtitle>{{ song.artist }} - {{ song.album }}</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <p><strong>Duration:</strong> {{ song.duration }}</p>
      <p>
        <strong>Rating:</strong>
        <mat-icon *ngFor="let r of [].constructor(song.rating)">star</mat-icon>
        <mat-icon *ngFor="let r of [].constructor(5 - song.rating)">star_border</mat-icon>
      </p>
    </mat-card-content>

    <mat-card-actions>
      <button mat-icon-button color="primary">
        <mat-icon>play_arrow</mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>
</div>